(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var a=e.g.document;if(!r&&a&&(a.currentScript&&(r=a.currentScript.src),!r)){var c=a.getElementsByTagName("script");c.length&&(r=c[c.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r})();const r={brown1:e.p+"ac85e7db9ab360fe235aa248837f0e5d.png",brown2:e.p+"c44579505d0d3ccfd7c8f069a841f3f9.png",brown3:e.p+"caababcab21e08510c276249ef8e8818.png",brown4:e.p+"e387b64a537a0fb25c84a81018033d19.png",brown5:e.p+"709f87f82c146ab3189a05a3fa458b53.png",brown6:e.p+"23453f970c4a388f8b68b06f400a4ccf.png",brown7:e.p+"7da5050420b14d67a481e453d13e70fc.png",brown8:e.p+"2126fcd965be3b428dcace58e62a70e1.png",brown9:e.p+"3d69a01cdd56175f304ecf5467e5dfc2.png",brown10:e.p+"703068f44f9153534f9c7448bc94def8.png",brown11:e.p+"157fd0a92444cc2a245f47e4739d7a56.png",brown12:e.p+"920b1409d3f7d006e7647271e3a3dacb.png",brown13:e.p+"a8d77ff5b5eaa534b968f98886d1e371.png",brown14:e.p+"f5d21e1965d8ec808bc2dc916f2578e0.png",brown15:e.p+"036f8f91eccd0e8f97080885372dcf2b.png",brown16:e.p+"1fd61bbd111986a0965ab7a3d9c38eb6.png",brown17:e.p+"6a53cc04a2d6cbb63677f2021ce0a51c.png",brown18:e.p+"c537bfb2cd284c9667ae6756b271b7ff.png",brown19:e.p+"199841521c55940d0d03fcada9ad5194.png",brown20:e.p+"1182a8f80bd2272b3d07c2b01857aa61.png",brown21:e.p+"3a8e72879e11c315c59d4cae69b4391b.png"},a={azathoth:e.p+"e76cc60e6f2b9bb167ce75f3457ed219.png",cthulhu:e.p+"e7bfd029744dc9f87c1ac5f42d90402a.png",iogSothoth:e.p+"c5b7717bff973cda27bed23257e72234.png",shubNiggurath:e.p+"68c4272e00c9596e65b1806b18598a43.png"},c=[{id:"azathoth",name:"azathoth",cardFace:a.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:a.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:a.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:a.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],d=[{id:"brown1",cardFace:r.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:r.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:r.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:r.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:r.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:r.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:r.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:r.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:r.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:r.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:r.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:r.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:r.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:r.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:r.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:r.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:r.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:r.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:r.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:r.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:r.brown21,difficulty:"easy",color:"brown"}],n={blue1:e.p+"09c8e5eb50dc7666f1aa3d2f16506c33.png",blue2:e.p+"3cc352cdc8fade5dad4c31c78992b842.png",blue3:e.p+"fdd1d10ff513774eb8410be6598be83c.png",blue4:e.p+"f09f0f715e525a0b50ecb0789aa2e10f.png",blue5:e.p+"e3e8792622b0c75c78c1c0b757a041fa.png",blue6:e.p+"cf323c98a3f54632a66cdb1c95d1a557.png",blue7:e.p+"4cdb1bd641372e2d0f746bffeb81963c.png",blue8:e.p+"02a9eec68518951fc18e50edc571ad81.png",blue9:e.p+"d3371911f8f0d84b558547a100f97e56.png",blue10:e.p+"c61c9f73492d8cd7027cb13e83bbed77.png",blue11:e.p+"f7e6552a92e4b878107acb7a0e7a243f.png",blue12:e.p+"204f9160083e529ab7631a475c01ae66.png"},o=[{id:"blue1",cardFace:n.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:n.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:n.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:n.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:n.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:n.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:n.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:n.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:n.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:n.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:n.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:n.blue12,difficulty:"normal",color:"blue"}],t={green1:e.p+"ee9218f13d2668469469fc55fde565b4.png",green2:e.p+"1a1b4da17274000ce3a891814560403e.png",green3:e.p+"24a6de1c53f0cc14bb955737f926a185.png",green4:e.p+"d9d9a3dc837a4101fc61207ad120c19f.png",green5:e.p+"0634bb414e136066d46f0d13709cee44.png",green6:e.p+"ca07046ad17914ec04d08e4aa01e3f9b.png",green7:e.p+"f9d8238c6770bdc97f73c478109a1289.png",green8:e.p+"bc5f83ed7ced1b832494a02ce67825b4.png",green9:e.p+"bc368631ac89e5bf08912a94d05ed628.png",green10:e.p+"766beb973fc76ac9564e581d35c004af.png",green11:e.p+"305fdb3b09ad909c598f23bc986a4f7f.png",green12:e.p+"b786b0a5e0aaf884c27b07894003defe.png",green13:e.p+"b3e3243ad3927ba66da7bbb74e03cfb4.png",green14:e.p+"20b6b1be80bef6932ab07650b1655f5d.png",green15:e.p+"63677766cd3a4cea8da0bdaa201ff418.png",green16:e.p+"608e0aecaccf5ff896fb97957d217aa3.png",green17:e.p+"0ebea1f5b536a0b85765af3f54112973.png",green18:e.p+"268edbdc27e016d06a522da5567719aa.png"},i=[{id:"green1",cardFace:t.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:t.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:t.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:t.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:t.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:t.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:t.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:t.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:t.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:t.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:t.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:t.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:t.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:t.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:t.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:t.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:t.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:t.green18,difficulty:"easy",color:"green"}];let b={};const l={greenCards:0,blueCards:0,brownCards:0};let f={},s=D(i),u=D(o),g=D(d),p=!1,w=[],y=[];const m=document.createElement("div");m.classList.add("choseAncientWrapper"),document.body.append(m);const h=document.createElement("div");h.classList.add("difficultWrapper"),document.body.append(h);const C=document.createElement("div");C.classList.add("deckSectionWrapper"),document.body.append(C);const F=document.createElement("div");F.classList.add("cardsSectionWrapper");const S=document.createElement("div"),v=document.createElement("div");document.body.append(F),F.append(v);const L=new Image;function k(e){let r=e.target.parentNode.querySelector(".active");r&&r.classList.remove("active"),e.target.classList.add("active")}function E(e){s=s.filter((r=>r.difficulty!=e)),u=u.filter((r=>r.difficulty!=e)),g=g.filter((r=>r.difficulty!=e))}function T(e){return e.sort(((e,r)=>e.difficulty>r.difficulty?1:e.difficulty<r.difficulty?-1:0))}function x(){w=[],w.push(Object.values(b.firstStage)),w.push(Object.values(b.secondStage)),w.push(Object.values(b.thirdStage))}function D(e){return e.map((e=>[Math.random(),e])).sort().map((e=>e[1]))}function M(){v.innerHTML="",w.forEach(((e,r)=>{const a=document.createElement("div");a.classList.add("stageWrapper");const c=document.createElement("div");c.classList.add("stageNumber"),c.innerText=`${r} стадия`;const d=document.createElement("div");d.classList.add("stageState"),d.classList.add("greenState"),d.innerText=e[0];const n=document.createElement("div");n.classList.add("stageState"),n.classList.add("brownState"),n.innerText=e[2];const o=document.createElement("div");o.classList.add("stageState"),o.classList.add("blueState"),o.innerText=e[1],v.classList.add("deckStateWrapper"),a.append(c,d,n,o),v.append(a)}))}c.forEach((e=>{const r=new Image;r.classList.add("choseImg"),r.onclick=e=>{h.innerHTML="",C.innerHTML="",v.innerHTML="",v.classList.remove("deckStateWrapper"),L.remove();let r=document.querySelector(".yourCard");r&&r.remove(),k(e),b=c.find((r=>r.cardFace===e.target.src)),function(e){l.greenCards=e.firstStage.greenCards+e.secondStage.greenCards+e.thirdStage.greenCards,l.blueCards=e.firstStage.blueCards+e.secondStage.blueCards+e.thirdStage.blueCards,l.brownCards=e.firstStage.brownCards+e.secondStage.brownCards+e.thirdStage.brownCards}(b),["очень легко","легко","средне","тяжело","очень тяжело"].forEach((e=>{let r=document.createElement("div");r.classList.add("difficultSelector"),r.innerText=e,r.onclick=e=>{C.innerHTML="",v.innerHTML="",L.remove();let r=document.querySelector(".yourCard");var a;r&&r.remove(),m.querySelector(".active"),v.classList.remove("deckStateWrapper"),k(e),function(e){switch(s=D(i),u=D(o),g=D(d),e){case"очень легко":E("hard"),T(s),T(u),T(g);break;case"легко":E("hard");break;case"средне":break;case"тяжело":E("easy");break;case"очень тяжело":E("easy"),T(s),T(u),T(g)}}(e.target.innerText),p=!0,f={greenDeck:D(s.slice(0,l.greenCards)),blueDeck:D(u.slice(0,l.blueCards)),brownDeck:D(g.slice(0,l.brownCards))},C.innerHTML="",a=C,S.classList.add("deckCreateButton"),S.innerText="ЗАМЕШАТЬ КОЛОДУ",a.append(S),x()},h.append(r)})),x()},r.src=e.cardFace,m.append(r)})),S.onclick=()=>{M(),function(){let e=[];w.forEach((r=>{let a=[];r.forEach(((e,r)=>{for(let c=0;c<e;c++)0===r?a.push("greenDeck"):1===r?a.push("blueDeck"):2===r&&a.push("brownDeck")})),e.push(D(a))})),y=[...e[0],...e[1],...e[2]].reverse()}(),L.src="./assets/mythicCardBackground.png",L.classList.add("cardController"),F.append(L),S.remove()},L.onclick=e=>{const r=document.querySelector(".yourCard");r&&r.remove();const a=new Image,c=y.pop();if(c){let e=f[c].pop();a.src=e.cardFace,a.classList.add("yourCard"),F.append(a)}else{const e=document.createElement("div");e.innerText="колода закончилась",e.classList.add("cardErr"),F.append(e),setTimeout((()=>{e.remove()}),500)}!function(e){let r=0;"blueDeck"===e?r=1:"brownDeck"===e&&(r=2),0!==w[0][r]?w[0][r]=w[0][r]-1:0!==w[1][r]?w[1][r]=w[1][r]-1:0!==w[2][r]&&(w[2][r]=w[2][r]-1)}(c),M()}})();